
<?xml version="1.0" ?>
<!DOCTYPE PISI SYSTEM "www.limelinux.com/standard/pisi-spec.dtd">
<PISI>
    <Source>
        <Name>kernel</Name>
        <Homepage>http://www.kernel.org</Homepage>
        <Packager>
            <Name>Lime GNU/LINUX Community</Name>
            <Email>admin@limelinux.com</Email>
        </Packager>
        <License>GPLv2</License>
        <IsA>kernel</IsA>
        <Summary>The Linux kernel (the core of the Linux operating system) for Pisi Linux</Summary>
        <Description>kernel contains the Linux kernel, the core of any Linux operating system. The kernel handles the basic functions of the operating system: memory allocation, process allocation, device input and output, etc.</Description>
        <Archive sha1sum="5efda6db44192b4b0d3fead3038db815baa817fe" type="targz">https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.9.7.tar.gz</Archive>
        <AdditionalFiles>
            <AdditionalFile target="configs/kernel-i686-config">configs/kernel-i686-config</AdditionalFile>
            <AdditionalFile target="configs/kernel-x86_64-config">configs/kernel-x86_64-config</AdditionalFile>
            <AdditionalFile permission="0755" target="generate-module-list">scripts/generate-module-list</AdditionalFile>
            <AdditionalFile permission="0755" target="apply_patches">scripts/apply_patches</AdditionalFile>
            <AdditionalFile permission="0755" target="create_quilt_tree">scripts/create_quilt_tree</AdditionalFile>
            <AdditionalFile permission="0755" target="kcooker-rebase">scripts/kcooker-rebase</AdditionalFile>
            <AdditionalFile permission="0755" target="update_configs">scripts/update_configs</AdditionalFile>
        </AdditionalFiles>
        <BuildDependencies>
            <Dependency>bc</Dependency>
            <Dependency>pisi</Dependency>
            <Dependency>cpio</Dependency>
            <Dependency>docbook-xsl</Dependency>
            <Dependency>diffutils</Dependency>
            <Dependency>xmlto</Dependency>
        </BuildDependencies>
        <Patches>
            <Patch level="1">linux-2.6-intel-iommu-igfx.patch</Patch>
            <Patch level="1">overload-on-wakeup.patch</Patch>
            <Patch level="1">revert-rtl.patch</Patch>
        </Patches>
    </Source>

    <Package>
        <Name>kernel</Name>
        <RuntimeDependencies>
            <Dependency>pisi</Dependency>
            <Dependency>linux-firmware</Dependency>
            <Dependency>grub2</Dependency>
            <Dependency>mkinitcpio</Dependency>
        </RuntimeDependencies>
        <Files>
            <Path fileType="executable" permanent="true">/boot</Path>
            <Path fileType="library" permanent="true">/lib/modules</Path>
            <Path fileType="data">/etc/kernel</Path>
            <Path fileType="config">/etc/mkinitcpio.d</Path>
        </Files>
        <Provides>
            <COMAR script="package.py">System.Package</COMAR>
        </Provides>
        <BuildFlags>
            <Flag>noDelta</Flag>
        </BuildFlags>
    </Package>

    <Package>
        <Name>kernel-module-headers</Name>
        <Summary>Kernel header files for external module building</Summary>
        <Description>kernel-module-headers includes the C header files and the necessary Kbuild files for being able to build external kernel modules.</Description>
        <Files>
            <Path fileType="header">/usr/src/linux-headers*</Path>
            <Path fileType="header">/tmp-headers*</Path>
             <Path fileType="config">/etc/modprobe.d</Path>
        </Files>
        <AdditionalFiles>
            <AdditionalFile permission="0644" target="/etc/modprobe.d/nouveau.conf">nvidia/nouveau.conf</AdditionalFile>
        </AdditionalFiles>
    </Package>

    <Package>
        <Name>kernel-docs</Name>
        <Summary>Documentation and scripts for the Linux kernel</Summary>
        <Description>kernel-docs includes several documentation files and scripts for managing several debugging and other tasks.</Description>
        <Files>
            <Path fileType="header">/usr/src/linux-headers*/Documentation</Path>
        </Files>
    </Package>

    <History>
        <Update release="1">
            <Date>2017-02-09</Date>
            <Version>4.9.7</Version>
            <Comment>First Release</Comment>
            <Name>Lime GNU/LINUX Community</Name>
            <Email>admin@limelinux.com</Email>
        </Update>
    </History>
</PISI>
